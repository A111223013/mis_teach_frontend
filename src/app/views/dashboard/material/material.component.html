<div *ngIf="domain" class="course-detail-container">
  <!-- 返回按鈕 -->
  <div class="header-section">
    <button class="back-button" (click)="goBack()">
      <i class="cil-arrow-left"></i>
      <span>返回書架</span>
    </button>
    <h1 class="course-title">{{ domain.name }}</h1>
  </div>

  <!-- 章節列表 -->
  <div class="chapters-container">
    <div *ngFor="let b of blocks" class="chapter-card">
      <div class="chapter-header" (click)="toggleChapter(b)">
        <h2>{{ b.title }}</h2>
        <i class="cil" [class.cil-chevron-bottom]="!b.expanded" [class.cil-chevron-top]="b.expanded"></i>
      </div>
      <div class="chapter-content" [@expandCollapse]="b.expanded ? 'expanded' : 'collapsed'">
        <ul class="concepts-list">
          <li *ngFor="let mc of getMicroConceptsByBlock(b)" class="concept-item">
            <a [routerLink]="['/dashboard/material-view', mc.name]">
              <i class="cil-document"></i>
              <span>{{ mc.name }}</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<ng-template #noDomain>
  <div class="no-content">
    <p>查無此知識點</p>
  </div>
</ng-template>

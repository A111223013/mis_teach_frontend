<div class="container-fluid">
    <button class="btn btn-outline-secondary back-btn" (click)="goBack()">← 回上一頁</button>
    
    <div class="row">
        <!-- TOC -->
        <div class="toc-wrapper" [class.collapsed]="tocCollapsed">
            <c-card>
                <h5>目錄</h5>
                <div id="toc-list"></div>
                <button class="btn btn-sm btn-outline-secondary mt-3" (click)="toggleTOC()">收合目錄</button>
            </c-card>
        </div>

        <!-- 內容 -->
        <div class="content-wrapper" [class.centered]="tocCollapsed">
            <div class="col-md-9 content p-4" id="content">
                <h2 class="text-center mb-4">{{ filename }}</h2>
                <div class="card shadow-lg p-4">
                    <markdown [data]="content" (ready)="onMarkdownReady()"></markdown>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 浮動按鈕組 -->
<div 
  *ngIf="showButtons" 
  class="floating-buttons"
  [style.left.px]="buttonPosition.x"
  [style.top.px]="buttonPosition.y"
>
  <button 
    class="btn btn-primary btn-sm me-2" 
    (click)="askQuestion()"
    title="詢問關於選中的內容"
  >
    <i class="cil-question-mark"></i> 詢問
  </button>
  <button 
    class="btn btn-success btn-sm" 
    (click)="generateQuiz()"
    title="生成關於選中內容的題目"
  >
    <i class="cil-lightbulb"></i> 生成題目
  </button>
</div>